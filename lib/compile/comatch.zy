extern def exit : Thk (Int -> OS) end

alias Choice : CType =
  codata
  | .left : OS
  | .right : Int -> OS
  end
end

main
  (comatch
  | .left -> ! exit 10
  | .right i -> ! exit i
  end : Choice) .right 20
end
